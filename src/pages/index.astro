---
import penguins from "../data/penguins.json"
import PlotFigure from "../components/PlotFigure.astro"
import * as Plot from "@observablehq/plot";
---

<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <title>Analyse des Pinguins</title>
    <style>
      body {
        font-family: "Inter", system-ui, sans-serif;
        background: #f5f7fa;
        margin: 0;
        padding: 0;
        color: #333;
      }

      header {
        text-align: center;
        padding: 2rem 1rem;
        background: linear-gradient(135deg, #6a82fb, #fc5c7d);
        color: white;
      }

      header h1 {
        margin: 0;
        font-size: 2rem;
      }

      main {
        max-width: 900px;
        margin: 2rem auto;
        padding: 2rem;
        background: white;
        border-radius: 1rem;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
      }

      h2 {
        margin-top: 0;
        font-size: 1.5rem;
        color: #444;
      }

      .chart-container {
        margin-top: 2rem;
        padding: 1rem;
        background: #fafafa;
        border: 1px solid #eee;
        border-radius: 0.75rem;
      }

      footer {
        text-align: center;
        padding: 1rem;
        font-size: 0.9rem;
        color: #666;
        margin-top: 2rem;
      }
    </style>
  </head>

  <body>
    <header>
      <h1>Étude des Pinguins</h1>
      <p>Visualisation des dimensions du bec en fonction de l'espèce</p>
    </header>

    <main>
      <h2>Nuage de points</h2>
      <p>
        Chaque point représente un manchot. Les couleurs distinguent les espèces,
        tandis que les axes indiquent la longueur et la profondeur du bec.
      </p>

      <div class="chart-container">
        <PlotFigure
          options={{
            marks: [
              Plot.dot(penguins, {
                x: "culmen_length_mm",
                y: "culmen_depth_mm",
                stroke: "species",
                fill: "species",
                r: 4,
                title: d =>
                  `${d.species}\nLongueur: ${d.culmen_length_mm} mm\nProfondeur: ${d.culmen_depth_mm} mm`
              })
            ],
            x: {
              label: "Longueur du bec (mm)",
              grid: true
            },
            y: {
              label: "Profondeur du bec (mm)",
              grid: true
            },
            color: {
              legend: true,
              scheme: "category10"
            },
            marginLeft: 60,
            marginBottom: 50
          }}
        />
      </div>
    </main>

    <footer>
      © 2025 | Données issues du dataset <em>Palmer Penguins</em>
    </footer>
  </body>
</html>
